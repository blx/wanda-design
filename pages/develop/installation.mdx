import { MdxLayout } from "@/components/layouts/mdx";
import tkns from "@wonderflow/tokens/platforms/web/tokens.json";
import { Snackbar } from "@wonderflow/react-components";

export default ({ children }) => (
  <MdxLayout
    title="Installation"
    description="Learn how to use Wanda design system"
  >
    {children}
  </MdxLayout>
);

Wanda is a complete design system wich provides all the tools you need to design and develop digital products, from Figma libraries to shared configurations and components.

While some of the developing tools like [PostCSS](https://postcss.org/) are mandatory to work with Wanda's UI components, others are **strongly recommended** to ensure consistency and elevetad code quality across projects.

## Installation

Wanda's development core elements are formed by [tokens](/develop/design-tokens/), [react-components](https://github.com/wonderflow-bv/react-components) and the [shared configurations](https://github.com/wonderflow-bv/config/). **These packages are required.**

```bash
npm install @wonderflow/tokens @wonderflow/react-components
npm install -D @wonderflow/config
```

<Snackbar kind="info">
  The <b>@wonderflow/config</b> exposes predefined configurations which you have
  to use in order to compile all the elements from the design system. Read the
  next section for more info.
</Snackbar>

## Configuring your project

To being able to use the components and styles from the design system there are a couple of steps to follow before doing everything else.

The first thing to do is configuring Postcss, so inside your local **postcss.config.js** file import `postcssConfig` from **@wonderflow/config** and export it.

```js
const { postcssConfig } = require("@wonderflow/config");
module.exports = postcssConfig;
```

Then inside your app js entry point you have to import two required css files, one is the core styles and other is the theme file which contains all the theme keys used by components and that you can have to use inside your custom css.

```js
import "@wonderflow/react-components/core.css";
import "@wonderflow/react-components/themes/light.css";
```

<Snackbar kind="warning" title="Include at least one theme">
  You must include at least one css theme file in order to make the components
  work as expected.
</Snackbar>

### Merging config

If you're already using some PostCSS plugin you need to merge the configurations:

```js
const { postcssConfig } = require("@wonderflow/config");

module.exports = {
  plugins: {
    ...postcssConfig.plugins,
    "other-plugins": {},
  },
};
```

## Recommended tools

To ensure elvetated code standards and consistency Wanda provides also a set of sharable configurations for eslint and stylelint.

### Stylelint

The [stylelint sharable configuration](https://github.com/wonderflow-bv/stylelint-config-wonderflow) provides a set of rules and plugin useful to write and validate your css code. For example, you can get an alert if you miswrite a token or a theme variable.

```bash
npm install -D stylelint @wonderflow/stylelint-config
```

Then add the following code inside your `.stylelintrc.json` configuration file.

```json
{
  "extends": "@wonderflow/stylelint-config",
  "ignoreFiles": [
    "!**/*.css",
    "**/*.jsx",
    "**/*.tsx",
    "**/*.ts",
    "node_modules"
  ]
}
```

### Eslint

The [eslint sharable configuration](https://github.com/wonderflow-bv/eslint-config-wonderflow) provides a set of rules and plugin useful to write and validate your javascript and jsx code. For example, you can get an alert if you write unaccessible html or if you miss an attribute to improve performances.

```bash
npm install -D eslint @wonderflow/eslint-config
```

Then add the following code inside your `.eslintrc.json` configuration file.

```json
{
  "extends": "@wonderflow/eslint-config"
}
```

#### Typescript

To add typescript support to eslint you can extend the configuration by installing [the parser and the plugin](https://www.npmjs.com/package/@typescript-eslint/eslint-plugin).

```bash
npm install -D @typescript-eslint/parser @typescript-eslint/eslint-plugin
```

```json
{
  "extends": "@wonderflow/eslint-config",
  "parser": "@typescript-eslint/parser",
  "plugins": ["@typescript-eslint"]
}
```

Then create a `tsconfig.eslint.json` at the project root that extends your typescript configuration:

```json
{
  "extends": "./tsconfig.json"
}
```
